import { writable } from 'svelte/store';
import type { RuntimeConfig } from '$lib/server/runtime-config';
import { SATOSHIS_PER_BTC } from '$lib/types/Currency';

// TODO: This defaultExchangeRate mechanism is obsolete and should be refactored in a future ticket.
// Currently, all currencies need hardcoded default values here to be updated by the Coinbase API.
// The currency-lock.ts only updates currencies already present in this object.
// A better approach would be to dynamically add currencies from the API response.
export const defaultExchangeRate = {
	SAT: SATOSHIS_PER_BTC,
	AED: 110_000,
	AFN: 2_500_000,
	ALL: 2_800_000,
	AMD: 11_500_000,
	ANG: 53_000,
	AOA: 24_000_000,
	ARS: 28_000_000,
	AUD: 45_000,
	AWG: 53_000,
	AZN: 51_000,
	BAM: 53_000,
	BBD: 60_000,
	BDT: 3_200_000,
	BGN: 53_000,
	BHD: 11_000,
	BIF: 85_000_000,
	BMD: 30_000,
	BND: 40_000,
	BOB: 205_000,
	BRL: 170_000,
	BSD: 30_000,
	BTN: 2_500_000,
	BWP: 400_000,
	BYN: 100_000,
	BYR: 585_000_000,
	BZD: 60_000,
	CAD: 42_000,
	CDF: 96_755_481,
	CHF: 30_000,
	CLF: 900,
	CLP: 28_000_000,
	CNY: 210_000,
	COP: 130_000_000,
	CRC: 15_000_000,
	CUC: 30_000,
	CUP: 720_000,
	CVE: 3_000_000,
	CZK: 700_000,
	DJF: 5_300_000,
	DKK: 205_000,
	DOP: 1_750_000,
	DZD: 4_000_000,
	EEK: 420_000,
	EGP: 1_450_000,
	ETB: 3_500_000,
	EUR: 30_000,
	FJD: 67_000,
	FKP: 23_000,
	GBP: 23_000,
	GEL: 82_000,
	GHS: 350_000,
	GIP: 23_000,
	GMD: 2_000_000,
	GNF: 255_000_000,
	GTQ: 230_000,
	GYD: 6_200_000,
	HKD: 230_000,
	HNL: 740_000,
	HRK: 205_000,
	HTG: 3_900_000,
	HUF: 11_000_000,
	IDR: 470_000_000,
	ILS: 110_000,
	INR: 2_500_000,
	IQD: 39_000_000,
	IRR: 1_260_000_000,
	ISK: 4_100_000,
	JMD: 4_600_000,
	JOD: 21_000,
	JPY: 4_300_000,
	KES: 4_200_000,
	KGS: 2_550_000,
	KHR: 120_000_000,
	KMF: 13_500_000,
	KPW: 27_000_000,
	KRW: 41_000_000,
	KWD: 9_000,
	KYD: 25_000,
	KZT: 14_000_000,
	LAK: 650_000_000,
	LBP: 2_670_000_000,
	LKR: 8_700_000,
	LRD: 5_700_000,
	LSL: 530_000,
	LTL: 88_000,
	LVL: 18_000,
	LYD: 140_000,
	MAD: 320_000,
	MDL: 530_000,
	MGA: 135_000_000,
	MKD: 1_680_000,
	MMK: 62_500_000,
	MNT: 101_000_000,
	MOP: 240_000,
	MRO: 10_650_000,
	MRU: 1_180_000,
	MUR: 1_360_000,
	MVR: 460_000,
	MWK: 51_500_000,
	MXN: 600_000,
	MYR: 133_000,
	MZN: 1_900_000,
	NAD: 530_000,
	NGN: 27_000_000,
	NIO: 1_090_000,
	NOK: 320_000,
	NPR: 4_000_000,
	NZD: 50_000,
	OMR: 11_500,
	PAB: 30_000,
	PEN: 113_000,
	PGK: 118_000,
	PHP: 1_730_000,
	PKR: 8_300_000,
	PLN: 120_000,
	PYG: 230_000_000,
	QAR: 108_000,
	RON: 136_000,
	RSD: 3_200_000,
	RUB: 2_900_000,
	RWF: 40_500_000,
	SAR: 112_000,
	SBD: 250_000,
	SCR: 410_000,
	SDG: 18_000_000,
	SEK: 315_000,
	SGD: 40_000,
	SHP: 23_000,
	SKK: 680_000,
	SLL: 625_000_000,
	SOS: 17_000_000,
	SRD: 1_050_000,
	SSP: 39_000_000,
	STD: 620_000_000,
	SVC: 260_000,
	SYP: 75_000_000,
	SZL: 530_000,
	THB: 1_010_000,
	TJS: 320_000,
	TMM: 105_000,
	TMT: 105_000,
	TND: 92_000,
	TOP: 70_000,
	TRY: 1_010_000,
	TTD: 202_000,
	TWD: 950_000,
	TZS: 75_000_000,
	UAH: 1_230_000,
	UGX: 110_000_000,
	USD: 30_000,
	UYU: 1_280_000,
	UZS: 380_000_000,
	VEF: 10_750_000_000,
	VES: 1_075_000,
	VND: 750_000_000,
	VUV: 3_530_000,
	WST: 83_000,
	XAF: 22_621_258,
	XCD: 80_000,
	XDR: 22_500,
	XOF: 22_621_258,
	YER: 7_450_000,
	ZAR: 700_000,
	ZMK: 270_000_000,
	ZMW: 780_000,
	ZWD: 360_000
};

export type ExchangeRate = typeof defaultExchangeRate;

export const exchangeRate = writable<RuntimeConfig['exchangeRate']>(defaultExchangeRate);
